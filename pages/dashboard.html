<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Administrativo - Encuestas | Hydro-Conecta</title>
    <meta name="description" content="Panel administrativo para visualización de resultados de encuestas">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../assets/sources/img/icon/icon.webp">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Leaflet para mapas -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
    
    <!-- Stylesheets Modulares -->
    <link rel="stylesheet" href="../assets/sources/css/variables.css">
    <link rel="stylesheet" href="../assets/sources/css/shared.css">
    <link rel="stylesheet" href="../assets/sources/css/admin.css">
</head>
<body>
        <!-- SVG Waves Background -->
    <div class="waves-background">
        <div class="wave wave-1">
            <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M0,50 Q150,100 300,50 T600,50 T900,50 T1200,50 L1200,120 L0,120 Z" fill="#0077b6"/>
            </svg>
        </div>
        <div class="wave wave-2">
            <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M0,70 Q200,20 400,70 T800,70 T1200,70 L1200,120 L0,120 Z" fill="#00b4d8"/>
            </svg>
        </div>
        <div class="wave wave-3">
            <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M0,30 Q250,80 500,30 T1000,30 T1500,30 L1500,120 L0,120 Z" fill="#48cae4"/>
            </svg>
        </div>
        <div class="wave wave-4">
            <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M0,90 Q300,40 600,90 T1200,90 L1200,120 L0,120 Z" fill="#90e0ef"/>
            </svg>
        </div>
    </div>
    
    <!-- Navigation Bar -->
    <nav class="navbar-modern">
        <div class="navbar-container">
            <a href="../index.html" class="navbar-brand">
                <i class="fas fa-water"></i>
                <span>Hydro-Conecta</span>
            </a>
            <button class="navbar-toggler" id="navbar-toggler" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="navbar-menu" id="navbar-menu">
                <a href="map.html" class="nav-link">
                    <i class="fas fa-map-marked-alt"></i>
                    Mapa
                </a>
                <a href="users.html" class="nav-link">
                    <i class="fas fa-users"></i>
                    Usuarios
                </a>
                <a href="responses.html" class="nav-link">
                    <i class="fas fa-reply"></i>
                    Respuestas
                </a>
                <a href="dashboard.html" class="nav-link-login active">
                    <i class="fas fa-chart-line"></i>
                    Dashboard
                </a>
            </div>
        </div>
    </nav>
    
    <!-- Dashboard Content -->
    <main class="dashboard-content" role="main">
        <header class="dashboard-header" data-aos="fade-up">
            <div class="header-content">
                <h1>Resultados de la Encuesta</h1>
                <p>Análisis general de las respuestas recibidas</p>
            </div>
            <div class="header-actions">
                <button class="btn-filter">
                    <i class="fas fa-filter"></i>
                    Filtros
                </button>
                <button class="btn-export">
                    <i class="fas fa-download"></i>
                    Exportar
                </button>
            </div>
        </header>

        <!-- Stats Grid -->
        <section class="stats-grid" data-aos="fade-up" role="region" aria-label="Estadísticas generales">
            <div class="stat-card">
                <div class="stat-card-header">
                    <span class="stat-card-label">Total Respuestas</span>
                    <div class="stat-card-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                </div>
                <div class="stat-card-value">1,247</div>
                <div class="stat-card-footer">
                    <span class="stat-trend positive">
                        <i class="fas fa-arrow-up"></i> +12%
                    </span>
                    <span class="stat-period">esta semana</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-card-header">
                    <span class="stat-card-label">Tasa de Completación</span>
                    <div class="stat-card-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                </div>
                <div class="stat-card-value">87%</div>
                <div class="stat-card-footer">
                    <span class="stat-trend positive">
                        <i class="fas fa-arrow-up"></i> +5%
                    </span>
                    <span class="stat-period">esta semana</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-card-header">
                    <span class="stat-card-label">Promedio Tiempo</span>
                    <div class="stat-card-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                </div>
                <div class="stat-card-value">4.2m</div>
                <div class="stat-card-footer">
                    <span class="stat-trend negative">
                        <i class="fas fa-arrow-down"></i> +0.3m
                    </span>
                    <span class="stat-period">esta semana</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-card-header">
                    <span class="stat-card-label">Satisfacción</span>
                    <div class="stat-card-icon">
                        <i class="fas fa-smile"></i>
                    </div>
                </div>
                <div class="stat-card-value">92%</div>
                <div class="stat-card-footer">
                    <span class="stat-trend positive">
                        <i class="fas fa-arrow-up"></i> +3%
                    </span>
                    <span class="stat-period">esta semana</span>
                </div>
            </div>
        </section>

        <!-- Charts Grid -->
        <section class="charts-grid" data-aos="fade-up">
            <div class="chart-card">
                <div class="chart-header">
                    <h3>Distribución de Respuestas por Pregunta</h3>
                    <div class="chart-actions">
                        <button class="chart-action-btn" title="Actualizar">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="chart-action-btn" title="Pantalla completa">
                            <i class="fas fa-expand"></i>
                        </button>
                    </div>
                </div>
                <div class="chart-container">
                    <!-- Barras de progreso en lugar de gráfico -->
                    <div class="progress-bar-container">
                        <div class="progress-label">
                            <span>Evaluación del Proyecto</span>
                            <strong>74%</strong>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 74%;"></div>
                        </div>
                    </div>
                    
                    <div class="progress-bar-container">
                        <div class="progress-label">
                            <span>Proceso de Consulta</span>
                            <strong>68%</strong>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 68%;"></div>
                        </div>
                    </div>
                    
                    <div class="progress-bar-container">
                        <div class="progress-label">
                            <span>Transparencia Informativa</span>
                            <strong>81%</strong>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 81%;"></div>
                        </div>
                    </div>
                    
                    <div class="progress-bar-container">
                        <div class="progress-label">
                            <span>Gestión de Compensaciones</span>
                            <strong>65%</strong>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 65%;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="chart-card">
                <div class="chart-header">
                    <h3>Respuestas por Categoría</h3>
                    <div class="chart-actions">
                        <button class="chart-action-btn" title="Actualizar">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="chart-action-btn" title="Pantalla completa">
                            <i class="fas fa-expand"></i>
                        </button>
                    </div>
                </div>
                <div class="chart-container">
                    <!-- Barras de progreso categorías -->
                    <div class="progress-bar-container">
                        <div class="progress-label">
                            <span>Impacto Ambiental</span>
                            <strong>68%</strong>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 68%;"></div>
                        </div>
                    </div>
                    
                    <div class="progress-bar-container">
                        <div class="progress-label">
                            <span>Impacto Social</span>
                            <strong>72%</strong>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 72%;"></div>
                        </div>
                    </div>
                    
                    <div class="progress-bar-container">
                        <div class="progress-label">
                            <span>Compensaciones</span>
                            <strong>65%</strong>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 65%;"></div>
                        </div>
                    </div>
                    
                    <div class="progress-bar-container">
                        <div class="progress-label">
                            <span>Transparencia</span>
                            <strong>81%</strong>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 81%;"></div>
                        </div>
                    </div>
                    
                    <div class="progress-bar-container">
                        <div class="progress-label">
                            <span>Empleo Local</span>
                            <strong>88%</strong>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 88%;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>


    </main>

    <!-- Footer se carga dinámicamente -->

    <!-- AOS CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    
    <!-- AOS JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    
    <!-- Leaflet JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    
    <!-- Scripts de la aplicación -->
    <script src="../assets/sources/js/auth.js"></script>
    <script src="../assets/sources/js/ai-classifier.js"></script>
    <script src="../assets/sources/js/storage-manager.js"></script>
    <script src="../assets/sources/js/dashboard.js"></script>
    <script src="../assets/sources/js/admin-footer.js"></script>
    
    <script>
        // Inicializar sistema de autenticación
        const auth = new AuthManager();
        auth.initDashboard();

        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true,
            offset: 100
        });

        // Navbar Toggle
        const navbarToggler = document.getElementById('navbar-toggler');
        const navbarMenu = document.getElementById('navbar-menu');
        
        if(navbarToggler){
            navbarToggler.addEventListener('click', () => {
                navbarMenu.classList.toggle('active');
                navbarToggler.classList.toggle('active');
            });
        }
        
        // Navbar Scroll Effect
        window.addEventListener('scroll', () => {
            const navbar = document.querySelector('.navbar-modern');
            if(navbar){
                if(window.scrollY > 50){
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            }
        });
        
        // Update footer timestamp
        function updateFooterTime() {
            const lastUpdate = document.getElementById('lastUpdate');
            if (lastUpdate) {
                const now = new Date();
                const timeString = now.toLocaleTimeString('es-CL', { 
                    hour: '2-digit', 
                    minute: '2-digit',
                    second: '2-digit'
                });
                lastUpdate.textContent = timeString;
            }
        }
        
        // Update time every second
        updateFooterTime();
        setInterval(updateFooterTime, 1000);
    </script>
</body>
</html>